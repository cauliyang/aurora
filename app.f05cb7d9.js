var e=globalThis,t={},n={},o=e.parcelRequire94c2;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequire94c2=o),o.register;var a=o("5qD1E"),l=o("2UrZ2"),d=o("e8aKe"),r=o("ftuQo");const i=document.getElementById("cy"),s=document.getElementById("info"),c=document.getElementById("walks"),g=document.getElementById("toggleMaximize");let u=!1;async function y(){try{if(console.log("Starting gene annotation process directly..."),window.showAlert("Loading gene annotations...","info"),await (0,r.loadGeneData)()&&a.STATE.cy){console.log("Gene data loaded successfully, annotating nodes...");let e=await (0,r.annotateAllNodes)(a.STATE.cy);window.showAlert(`Annotated ${e} nodes with gene information!`,"success",3e3)}else console.error("Could not load gene data or graph not initialized"),window.showAlert("Failed to load gene annotations.","error")}catch(e){console.error("Error in gene annotation:",e),window.showAlert("Error in gene annotation process.","error")}}g.addEventListener("click",()=>{u?(i.style.width="",i.style.height="",s.style.display="",c.style.display="",u=!1):(i.style.width="100%",i.style.height="100vh",s.style.display="none",c.style.display="none",u=!0)}),document.getElementById("hiddenLabel").addEventListener("click",function(){let e=(0,d.getLabelsVisible)()?"":"data(id)",t=(0,d.getLabelsVisible)()?"":"data(id)";(0,a.STATE).cy.style().selector("node").style({label:e}).selector("edge").style({label:t}).update(),(0,d.setLabelsVisible)(!(0,d.getLabelsVisible)())}),document.getElementById("captureGraph").addEventListener("click",()=>{let e=(0,a.STATE).cy.png(),t=document.createElement("a");t.href=e,t.download="graph_capture.png",t.click()}),document.getElementById("redirectToIgv").addEventListener("click",()=>{window.open("igv.html","_blank")}),document.addEventListener("DOMContentLoaded",()=>{(0,l.resizePanels)()}),document.getElementById("uploadInput").addEventListener("change",function(e){let t=e.target.files[0];if(console.log(t),t){let e=new FileReader;e.onload=e=>{let t=e.target.result;try{let e=JSON.parse(t);console.log(e),(0,a.loadGraphDataFromServer)(e)}catch(e){console.error("Error parsing JSON:",e)}},e.readAsText(t)}}),document.getElementById("clearHighlights").addEventListener("click",()=>{(0,a.clearNodeHighlights)(a.STATE.cy)}),document.getElementById("geneAnnotationBtn").addEventListener("click",async e=>{if(e.ctrlKey||!window.bootstrap)e.preventDefault(),await y();else try{new bootstrap.Modal(document.getElementById("geneAnnotationModal")).show()}catch(e){console.error("Error showing modal, falling back to direct annotation:",e),await y()}}),document.addEventListener("click",e=>{("uploadAuroraIds"===e.target.id||e.target.parentElement&&"uploadAuroraIds"===e.target.parentElement.id)&&document.getElementById("auroraIdsFile")&&window.handleAuroraIdsFileUpload&&window.handleAuroraIdsFileUpload()}),"undefined"!=typeof window&&void 0===window.handleAuroraIdsFileUpload&&"function"==typeof handleAuroraIdsFileUpload&&(window.handleAuroraIdsFileUpload=handleAuroraIdsFileUpload);
//# sourceMappingURL=app.f05cb7d9.js.map
