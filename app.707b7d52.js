var e=globalThis,t={},n={},o=e.parcelRequireaed0;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequireaed0=o),o.register;var a=o("5qD1E"),l=o("2UrZ2"),r=o("e8aKe"),i=o("ftuQo");const d=document.getElementById("cy"),s=document.getElementById("info"),c=document.getElementById("walks"),g=document.getElementById("toggleMaximize");let h=!1;g?g.addEventListener("click",()=>{h?(d.style.width="",d.style.height="",s.style.display="",c.style.display="",h=!1):(d.style.width="100%",d.style.height="100vh",s.style.display="none",c.style.display="none",h=!0)}):console.warn("Element with ID 'toggleMaximize' not found in the DOM");const p=document.getElementById("hiddenLabel");p?p.addEventListener("click",function(){let e=(0,r.getLabelsVisible)()?"":function(e){return e.data("gene_name")?e.data("gene_name"):""},t=(0,r.getLabelsVisible)()?"":function(e){return e.data("weight")?e.data("weight"):""};a.STATE.cy.style().selector("node").style({label:e}).selector("edge").style({label:t}).update(),(0,r.setLabelsVisible)(!(0,r.getLabelsVisible)())}):console.warn("Element with ID 'hiddenLabel' not found in the DOM");const u=document.getElementById("captureGraph");u?u.addEventListener("click",()=>{let e=a.STATE.cy.png(),t=document.createElement("a");t.href=e,t.download="graph_capture.png",t.click()}):console.warn("Element with ID 'captureGraph' not found in the DOM");const w=document.getElementById("redirectToIgv");w?w.addEventListener("click",()=>{window.open("igv.html","_blank")}):console.warn("Element with ID 'redirectToIgv' not found in the DOM"),document.addEventListener("DOMContentLoaded",()=>{(0,l.resizePanels)()});const m=document.getElementById("uploadInput");m?m.addEventListener("change",function(e){let t=e.target.files[0];if(console.log(t),!t)return;let n=new FileReader;n.onload=async e=>{let n=e.target.result,o=t.name.split(".").pop().toLowerCase();try{if("json"===o){let e=JSON.parse(n);console.log("Loaded JSON data:",e),(0,a.loadGraphDataFromServer)(e),document.getElementById("graphSelectorContainer").style.display="none"}else if("tsg"===o){console.log("Loaded TSG data"),a.STATE.graph_jsons=await window.parse_tsgFile(n),console.log(`Number of graph JSONs: ${a.STATE.graph_jsons.length}`);let e=a.STATE.graph_jsons.length;e>1?function(e){let t=document.getElementById("graphSelect"),n=document.getElementById("graphSelectorContainer");t.innerHTML="";for(let n=0;n<e;n++){let e=document.createElement("option");e.value=n,e.textContent=`Graph ${n+1}`,t.appendChild(e)}n.style.display="block",t.addEventListener("change",function(){let e=parseInt(this.value);if(a.STATE.graph_jsons&&a.STATE.graph_jsons.length>e)try{let t=JSON.parse(a.STATE.graph_jsons[e]);(0,a.loadGraphDataFromServer)(t),window.showAlert(`Loaded graph ${e+1}`,"success",2e3)}catch(t){console.error("Error loading selected graph:",t),window.showAlert(`Error loading graph ${e+1}: ${t.message}`,"error")}})}(e):document.getElementById("graphSelectorContainer").style.display="none";let t=JSON.parse(a.STATE.graph_jsons[0]);(0,a.loadGraphDataFromServer)(t)}}catch(e){console.error("Error processing file:",e),window.showAlert?.("Error processing file: "+e.message,"error")||alert("Error processing file: "+e.message)}},n.readAsText(t)}):console.warn("Element with ID 'uploadInput' not found in the DOM");const E=document.getElementById("clearHighlights");E?E.addEventListener("click",()=>{(0,a.clearNodeHighlights)(a.STATE.cy)}):console.warn("Element with ID 'clearHighlights' not found in the DOM");const y=document.getElementById("geneAnnotationBtn");async function f(){try{if(console.log("Starting gene annotation process directly..."),window.showAlert("Loading gene annotations...","info"),await (0,i.loadGeneData)()&&a.STATE.cy){console.log("Gene data loaded successfully, annotating nodes...");let e=await (0,i.annotateAllNodes)(a.STATE.cy);window.showAlert(`Annotated ${e} nodes with gene information!`,"success",3e3)}else console.error("Could not load gene data or graph not initialized"),window.showAlert("Failed to load gene annotations.","error")}catch(e){console.error("Error in gene annotation:",e),window.showAlert("Error in gene annotation process.","error")}}y?y.addEventListener("click",async e=>{if(e.ctrlKey||!window.bootstrap)e.preventDefault(),await f();else try{new bootstrap.Modal(document.getElementById("geneAnnotationModal")).show()}catch(e){console.error("Error showing modal, falling back to direct annotation:",e),await f()}}):console.warn("Element with ID 'geneAnnotationBtn' not found in the DOM"),document.addEventListener("click",e=>{("uploadAuroraIds"===e.target.id||e.target.parentElement&&"uploadAuroraIds"===e.target.parentElement.id)&&document.getElementById("auroraIdsFile")&&window.handleAuroraIdsFileUpload&&window.handleAuroraIdsFileUpload()}),"undefined"!=typeof window&&void 0===window.handleAuroraIdsFileUpload&&"function"==typeof handleAuroraIdsFileUpload&&(window.handleAuroraIdsFileUpload=handleAuroraIdsFileUpload),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("collapseToolbarBtn"),t=document.querySelector(".toolbar-responsive");e&&t&&(window.innerWidth<768&&(t.classList.add("toolbar-collapsed"),e.innerHTML='<i class="bi bi-chevron-down"></i>'),e.addEventListener("click",function(){t.classList.toggle("toolbar-collapsed"),t.classList.contains("toolbar-collapsed")?e.innerHTML='<i class="bi bi-chevron-down"></i>':e.innerHTML='<i class="bi bi-chevron-up"></i>'}))}),window.addEventListener("resize",function(){let e=document.querySelector(".toolbar-responsive"),t=document.getElementById("collapseToolbarBtn");e&&t&&(window.innerWidth>=768?e.classList.remove("toolbar-collapsed"):e.classList.contains("toolbar-collapsed")||(e.classList.add("toolbar-collapsed"),t.innerHTML='<i class="bi bi-chevron-down"></i>'))});
//# sourceMappingURL=app.707b7d52.js.map
